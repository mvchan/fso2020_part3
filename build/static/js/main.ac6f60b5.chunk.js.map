{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/BackendService.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","filterName","setFilterName","value","onChange","event","target","PersonForm","obj","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumChange","type","Person","person","deletePerson","name","number","onClick","Persons","persons","filter","toLowerCase","includes","map","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","isError","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","normalMessage","setNormalMessage","errorMessage","setErrorMessage","refreshHook","setRefreshHook","useEffect","console","log","directoryService","fetchedPersons","preventDefault","personObject","length","trim","indexOf","addedPerson","setTimeout","concat","catch","error","window","confirm","find","updatedPerson","result","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ac6f60b5.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({filterName,setFilterName}) => (\r\n    <form>\r\n        <div>filter shown with <input value={filterName} onChange={(event) => setFilterName(event.target.value)} /></div>\r\n    </form>\r\n)\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst PersonForm = ({obj}) => (\r\n    <form onSubmit={obj.addPerson}>\r\n        <div>name: <input value={obj.newName} onChange={obj.handleNameChange} /></div>\r\n        <div>number: <input value={obj.newNumber} onChange={obj.handleNumChange} /></div>\r\n        <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Person = ({person,deletePerson}) => (\r\n\r\n    //button onClick must be a function since it is callback, otherwise it will execute on render\r\n    <p>\r\n        {person.name}: {person.number} <button onClick={() => deletePerson(person)}>delete</button>\r\n    </p>\r\n)\r\n\r\nexport default Person","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst Persons = ({obj}) => {\r\n\r\n    const deletePerson = obj.deletePerson\r\n    return (\r\n        <>\r\n        {obj.persons.filter(person => person.name.toLowerCase().includes(obj.filterName.toLowerCase()))\r\n            .map(person => <Person key={person.id} person={person} deletePerson={deletePerson} />)}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`).then(response => response)\r\n}\r\n\r\n// anonymous import as a single object in App.js (e.g. directoryService) (will throw warning)\r\nexport default { getAll, create, update, remove }","import React from 'react';\r\n\r\nconst Notification = ({ message, isError }) => {\r\n\r\n    const normalStyle =  {    \r\n                            color: 'green',\r\n                            background: 'lightgrey',\r\n                            fontSize: 20,\r\n                            borderStyle: 'solid',\r\n                            borderRadius: 5,\r\n                            padding: 10,\r\n                            marginBottom: 10\r\n                        }\r\n\r\n    const errorStyle =  {    \r\n                            color: 'red',\r\n                            background: 'lightgrey',\r\n                            fontSize: 20,\r\n                            borderStyle: 'solid',\r\n                            borderRadius: 5,\r\n                            padding: 10,\r\n                            marginBottom: 10\r\n                        }\r\n\r\n    if (message === null || '') {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={ isError ? errorStyle : normalStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport directoryService from './services/BackendService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ filterName, setFilterName ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ normalMessage, setNormalMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ refreshHook, setRefreshHook ] = useState(0);\n\n  const handleNameChange = (event) => {\n    //console.log(event.target.value)    \n    setNewName(event.target.value)  \n  }\n\n  const handleNumChange = (event) => {\n    //console.log(event.target.value)    \n    setNewNumber(event.target.value)  \n  }\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons[persons.length-1].id + 1,\n    }\n\n    if (newName.trim().length && newNumber.trim().length) {\n      if (persons.map(person => person.name.toLowerCase()).indexOf(newName.toLowerCase()) < 0) {\n        directoryService\n          .create(personObject)\n          .then(addedPerson => {\n            console.log('new person added: ',addedPerson)\n            setNormalMessage(`Added ${addedPerson.name}`)       \n            setTimeout(() => {setNormalMessage(null)}, 5000)\n            setPersons(persons.concat(addedPerson))      \n            setNewName('')\n            setNewNumber('')})\n          .catch(error => {\n            console.log('add error result: ',error)\n            setErrorMessage(`${newName} already exists in the server. Local data has been refreshed.`)       \n            setTimeout(() => {setErrorMessage(null)}, 5000)\n            setRefreshHook(refreshHook+1)\n        })\n      }\n      \n      else {\n        if (window.confirm(`${newName} is already added to phonebook. Replace old number with a new one?`)) {\n          directoryService\n            .update(persons.find(person => person.name.toLowerCase() === newName.toLowerCase()).id,personObject)\n            .then(updatedPerson => {\n              console.log('update result: ',updatedPerson)\n              setPersons(persons.filter(person => person.name !== newName).concat(updatedPerson))      \n              setNewName('')\n              setNewNumber('')\n          })\n        }\n      }  \n    }\n  }\n\n  const deletePerson = ({name,id}) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      directoryService\n        .remove(id)\n        .then(result =>{\n          console.log('delete result: ',result)\n          setPersons(persons.filter(person => person.id !== id))})          \n        .catch(error => {\n          console.log('delete error caught: ',error)\n          setErrorMessage(`Information of ${name} has already been removed from server.`)       \n          setTimeout(() => {setErrorMessage(null)}, 5000)\n          setPersons(persons.filter(person => person.id !== id))    \n      })\n    }\n  }\n\n  const personsHook = () => {\n    console.log('effect for fetching persons called')\n    directoryService\n      .getAll()\n      .then(fetchedPersons => {\n        console.log('promise fulfilled')\n        setPersons(fetchedPersons)\n      })\n  }\n\n  useEffect(personsHook, [refreshHook])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={normalMessage} isError={false} />\n      <Notification message={errorMessage} isError={true} />\n      <Filter filterName={filterName} setFilterName={setFilterName}/>\n      <h3>Add a new</h3>\n      <PersonForm obj={{addPerson,\n                        newName,\n                        newNumber,\n                        handleNameChange,\n                        handleNumChange}}/>\n      <h3>Numbers</h3>\n      <Persons obj={{persons,\n                     filterName,\n                     deletePerson}} />\n    </div>\n    \n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}